#snowflake
##description

##mark
1. Q: snowflake为什么会有69年问题？  
A: 因为snowflake中代表时间戳的位数为41位，而时间戳的单位为毫秒。  
那么能够容纳的最大数字换算成时间毫秒为(1<<41)/(365*24*60*60*1000)=69年。  
即就算从当前时间开始算id，经过69年的某一时刻后，时间会超出41位，如果归0，则出现时间戳位id重复的情况。

2. Q: 为什么实现中要减去一个固定常量：  
A: 如果算法完全参考snowflake，以41位代表时间戳，10位代表工作机器id，12位代表序列号，那么意味着时间戳需要左移22位。  
默认情况下使用的时间戳的毫秒数是从1970年1月1日开始的，已经达到了41位，如果直接左移22位刚好为63位，当时间位数增加，左移时就会超限，导致进到符号位，得到的id为负数。  
减去一个常量的目的就是为了重置时间，但实际上解决不了69年问题，除非修改结构中代表时间戳的位数。

3. Q: 优化方案？  
A: 并发度降低的方案：可以增加时间位数，降低工作机器id的位数或序列号位数（单机并发度）。